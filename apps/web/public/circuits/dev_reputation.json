{"noir_version":"1.0.0-beta.18+99bb8b5cf33d7669adbdef096b12d80f30b4c0c9","hash":"15178872974284513340","abi":{"parameters":[{"name":"wallet_pubkey","type":{"kind":"array","length":32,"type":{"kind":"integer","sign":"unsigned","width":8}},"visibility":"private"},{"name":"secret","type":{"kind":"array","length":32,"type":{"kind":"integer","sign":"unsigned","width":8}},"visibility":"private"},{"name":"program_count","type":{"kind":"integer","sign":"unsigned","width":8},"visibility":"private"},{"name":"tvl_amounts","type":{"kind":"array","length":5,"type":{"kind":"integer","sign":"unsigned","width":64}},"visibility":"private"},{"name":"min_tvl","type":{"kind":"integer","sign":"unsigned","width":64},"visibility":"public"},{"name":"commitment","type":{"kind":"array","length":32,"type":{"kind":"integer","sign":"unsigned","width":8}},"visibility":"public"},{"name":"nullifier","type":{"kind":"array","length":32,"type":{"kind":"integer","sign":"unsigned","width":8}},"visibility":"public"}],"return_type":null,"error_types":{"14990209321349310352":{"error_kind":"string","string":"attempt to add with overflow"}}},"bytecode":"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","debug_symbols":"pZbRiuowFEX/Jc99yEly0sRfuVykahwKpUqnvXAR/32SztkdZ0CQzNNebdyLNCbWmzqlw/K278fz5V3t/tzUYeqHoX/bD5djN/eXMd+93RuFy/08pZRvqYfx3Lp2UxpntRuXYWjUv25Y1g+9X7txzbmb8qhuVBpPObPw3A+p0L35auvn1TZ6KQcyW53p1X5whD7rmr4x6NtQ049B+pG4oh/N1vf0rM/P+0ZTFIHRxn8ZXhdYvQkel+DVJyBN+ApJW1exBqRd2Aw+/NYQquZgDDYSGctVBh1/a9g2E1mqWoc2WhgCxRpDaLc5RF31FDGYbUNpW2HItXYz1D3F4xx+GP7mq+7YT99+CRVZVjvX5PTrcSHbSgbJ+JlOS5KkkbSSTpIlxefE58TnxMfiY/Gx+Fh8LD4WH4uPxcfiY/F58XnxefF58XnxefF58Xnx+ewLJeNntrqcqQIEMAALcGXzFmCAB7SAAIgCQQMIUMy2gAU4AAOKuUw0FHOZYQiAKBA1gAAGYAEOwAAPgDnCHMWcdyaAAAZgAQ7AAA9oAQEAM8FMMBPMBDPBTDATzAQzreZ7ORtT3x2GJC/68zIeH9778/8rRvDP4Dpdjum0TKmcjHUsn5UP","file_map":{"51":{"source":"// Vouch Protocol - Developer Reputation Circuit\n// Proves: \"I control a wallet that deployed programs with >= min_tvl TVL\"\n// Without revealing: which wallet, which programs, exact TVL\n\nuse std::hash::blake2s;\n\n// Maximum number of programs to prove\nglobal MAX_PROGRAMS: u32 = 5;\n\nfn main(\n    // Private inputs (hidden from verifier)\n    wallet_pubkey: [u8; 32],\n    secret: [u8; 32],\n    program_count: u8,\n    tvl_amounts: [u64; MAX_PROGRAMS],\n\n    // Public inputs (visible to verifier)\n    min_tvl: pub u64,\n    commitment: pub [u8; 32],\n    nullifier: pub [u8; 32]\n) {\n    // 1. Verify commitment = hash(wallet_pubkey || secret)\n    // This proves the prover knows the wallet that created the commitment\n    let mut preimage: [u8; 64] = [0; 64];\n    for i in 0..32 {\n        preimage[i] = wallet_pubkey[i];\n        preimage[i + 32] = secret[i];\n    }\n    let computed_commitment: [u8; 32] = blake2s(preimage);\n    assert(computed_commitment == commitment);\n\n    // 2. Verify program count is valid\n    assert(program_count >= 1);\n    assert(program_count as u32 <= MAX_PROGRAMS);\n\n    // 3. Sum TVL across all programs\n    let mut total_tvl: u64 = 0;\n    for i in 0..MAX_PROGRAMS {\n        total_tvl = total_tvl + tvl_amounts[i];\n    }\n\n    // 4. Verify total TVL meets threshold\n    assert(total_tvl >= min_tvl);\n\n    // 5. Verify nullifier is derived correctly\n    // nullifier = hash(wallet_pubkey || domain_separator)\n    // Domain separator: \"vouch_dev\" padded to 32 bytes\n    let mut nullifier_preimage: [u8; 64] = [0; 64];\n    for i in 0..32 {\n        nullifier_preimage[i] = wallet_pubkey[i];\n    }\n    // Domain separator: \"vouch_dev\" in ASCII (9 bytes, rest padded with zeros)\n    let domain: [u8; 9] = [118, 111, 117, 99, 104, 95, 100, 101, 118];\n    for i in 0..9 {\n        nullifier_preimage[32 + i] = domain[i];\n    }\n    let computed_nullifier: [u8; 32] = blake2s(nullifier_preimage);\n\n    // Compare nullifier byte by byte\n    for i in 0..32 {\n        assert(computed_nullifier[i] == nullifier[i]);\n    }\n}\n\n#[test]\nfn test_valid_proof() {\n    let wallet_pubkey: [u8; 32] = [1; 32];\n    let secret: [u8; 32] = [2; 32];\n\n    // Compute commitment\n    let mut preimage: [u8; 64] = [0; 64];\n    for i in 0..32 {\n        preimage[i] = wallet_pubkey[i];\n        preimage[i + 32] = secret[i];\n    }\n    let commitment: [u8; 32] = blake2s(preimage);\n\n    // Compute nullifier\n    let mut nullifier_preimage: [u8; 64] = [0; 64];\n    for i in 0..32 {\n        nullifier_preimage[i] = wallet_pubkey[i];\n    }\n    let domain: [u8; 9] = [118, 111, 117, 99, 104, 95, 100, 101, 118];\n    for i in 0..9 {\n        nullifier_preimage[32 + i] = domain[i];\n    }\n    let nullifier: [u8; 32] = blake2s(nullifier_preimage);\n\n    // TVL: 50K + 40K + 30K = 120K (meets 100K threshold)\n    let tvl_amounts: [u64; MAX_PROGRAMS] = [50000, 40000, 30000, 0, 0];\n\n    main(\n        wallet_pubkey,\n        secret,\n        3,\n        tvl_amounts,\n        100000,\n        commitment,\n        nullifier\n    );\n}\n\n#[test]\nfn test_threshold_exact_match() {\n    let wallet_pubkey: [u8; 32] = [3; 32];\n    let secret: [u8; 32] = [4; 32];\n\n    let mut preimage: [u8; 64] = [0; 64];\n    for i in 0..32 {\n        preimage[i] = wallet_pubkey[i];\n        preimage[i + 32] = secret[i];\n    }\n    let commitment: [u8; 32] = blake2s(preimage);\n\n    let mut nullifier_preimage: [u8; 64] = [0; 64];\n    for i in 0..32 {\n        nullifier_preimage[i] = wallet_pubkey[i];\n    }\n    let domain: [u8; 9] = [118, 111, 117, 99, 104, 95, 100, 101, 118];\n    for i in 0..9 {\n        nullifier_preimage[32 + i] = domain[i];\n    }\n    let nullifier: [u8; 32] = blake2s(nullifier_preimage);\n\n    // Exactly 100K TVL (meets 100K threshold)\n    let tvl_amounts: [u64; MAX_PROGRAMS] = [100000, 0, 0, 0, 0];\n\n    main(\n        wallet_pubkey,\n        secret,\n        1,\n        tvl_amounts,\n        100000,\n        commitment,\n        nullifier\n    );\n}\n","path":"/home/dewaxindo/Solana/vouch-protocol/circuits/dev_reputation/src/main.nr"}},"expression_width":{"Bounded":{"width":4}}}